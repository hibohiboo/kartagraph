## 状態遷移図


### ログイン ― 初期入力

```mermaid
flowchart TD
    匿名ログイン --> B[キャラクターがいるか]
    B -->|いる| C[ゲーム画面]
    B -->|いない| D[初期説明画面]
    D-->E[キャラクター名入力]
    E-->F[初期パーティ自動作成&登録]
    F-->C
```

## シナリオの状態

```mermaid
flowchart TD
    A[シナリオ未選択] -->|シナリオ開始| B[シナリオA]
    B -->|シナリオ終了| A[シナリオ取得]
    B -->|ゲームオーバー| A
    B -->|シナリオ開始| C[シナリオB]
    C -->|シナリオ終了| B
    
```


### シナリオの読込
C[現在のシナリオをスタックに積む]
```mermaid
flowchart TD
    A[現在のシナリオ] --> B[シナリオ情報の表示]
    B --> C[開始確認] 
    C -->|キャンセル| A
    C -->|開始| D[シナリオ開始処理]
    D -->E[開始条件タグ判定]
    E -->|タグ不足| A
    E -->F[シナリオ開始]
    F -->G[現在のシナリオをスタックに積む]
    G -->H[シナリオ読込]
    H -->I[最初のイベントデッキ]
    I -->J[最初のイベント]
    J -->K[最初のコマンド]
    K -->L[シナリオ終了イベント]
    L-->M[シナリオ終了処理]
    M-->N[スタックから元のシナリオ読込]
    N-->A
```



---

## 参考

[mermaid](https://mermaid-js.github.io/mermaid/#/stateDiagram)
[vscode+mermaid](https://www.agent-grow.com/self20percent/2020/03/05/%E4%BD%BF%E3%81%A3%E3%81%A6%E3%81%BF%E3%82%88%E3%81%86%EF%BC%81vscodemermaid/)
